---
date: 2022-04-13T22:20:05+08:00
author: "Rustle Karl"

title: "第1章_C++基础入门_初识"
url:  "posts/cpp/docs/CPP/第1章_C++基础入门_初识"  # 永久链接
tags: [ "C", "C++" ]  # 标签
series: [ "C 学习笔记" ]  # 系列
categories: [ "学习笔记" ]  # 分类

toc: true  # 目录
draft: false  # 草稿
---

- [C++ 简介](#c-简介)
- [标准库](#标准库)
- [ANSI 标准](#ansi-标准)
- [学习 C++](#学习-c)
- [标准化](#标准化)
- [安装 GNU 的 C/C++ 编译器](#安装-gnu-的-cc-编译器)
	- [UNIX/Linux 上的安装](#unixlinux-上的安装)
	- [Mac OS X 上的安装](#mac-os-x-上的安装)
	- [Windows 上的安装](#windows-上的安装)
- [g++ 应用说明](#g-应用说明)
	- [g++ 常用命令选项](#g-常用命令选项)
- [C++ 基本语法](#c-基本语法)
- [第一个C++程序](#第一个c程序)
	- [创建项目](#创建项目)
	- [创建文件](#创建文件)
	- [编写代码](#编写代码)
	- [运行程序](#运行程序)
- [C++ 中的分号 & 块](#c-中的分号--块)
- [注释](#注释)
- [变量](#变量)
- [常量](#常量)
- [关键字](#关键字)
- [标识符命名规则](#标识符命名规则)
- [三字符组](#三字符组)
- [C++ 中的空格](#c-中的空格)

## C++ 简介

C++ 是一种静态类型的、编译式的、通用的、大小写敏感的、不规则的编程语言，支持过程化编程、面向对象编程和泛型编程。

C++ 被认为是一种**中级**语言，它综合了高级语言和低级语言的特点。

C++ 是由 Bjarne Stroustrup 于 1979 年在新泽西州美利山贝尔实验室开始设计开发的。C++ 进一步扩充和完善了 C 语言，最初命名为带类的C，后来在 1983 年更名为 C++。

C++ 是 C 的一个超集，事实上，任何合法的 C 程序都是合法的 C++ 程序。

**注意：**使用静态类型的编程语言是在编译时执行类型检查，而不是在运行时执行类型检查。

C++ 完全支持面向对象的程序设计，包括面向对象开发的四大特性：

- 封装
- 抽象
- 继承
- 多态

## 标准库

标准的 C++ 由三个重要部分组成：

- 核心语言，提供了所有构件块，包括变量、数据类型和常量，等等。
- C++ 标准库，提供了大量的函数，用于操作文件、字符串等。
- 标准模板库（STL），提供了大量的方法，用于操作数据结构等。

## ANSI 标准

ANSI 标准是为了确保 C++ 的便携性 —— 您所编写的代码在 Mac、UNIX、Windows、Alpha 计算机上都能通过编译。

由于 ANSI 标准已稳定使用了很长的时间，所有主要的 C++ 编译器的制造商都支持 ANSI 标准。

## 学习 C++

学习 C++，关键是要理解概念，而不应过于深究语言的技术细节。

C++ 支持多种编程风格。每种风格都能有效地保证运行时间效率和空间效率。

## 标准化

| 发布时间 | 文档                  | 通称   | 备注                |      |
| :------- | :-------------------- | :----- | :------------------ | :--- |
| 2015     | ISO/IEC TS 19570:2015 | -      | 用于并行计算的扩展  |      |
| 2015     | ISO/IEC TS 18822:2015 | -      | 文件系统            |      |
| 2014     | ISO/IEC 14882:2014    | C++14  | 第四个C++标准       |      |
| 2011     | ISO/IEC TR 24733:2011 | -      | 十进制浮点数扩展    |      |
| 2011     | ISO/IEC 14882:2011    | C++11  | 第三个C++标准       |      |
| 2010     | ISO/IEC TR 29124:2010 | -      | 数学函数扩展        |      |
| 2007     | ISO/IEC TR 19768:2007 | C++TR1 | C++技术报告：库扩展 |      |
| 2006     | ISO/IEC TR 18015:2006 | -      | C++性能技术报告     |      |
| 2003     | ISO/IEC 14882:2003    | C++03  | 第二个C++标准       |      |
| 1998     | ISO/IEC 14882:1998    | C++98  | 第一个C++标准       |      |

## 安装 GNU 的 C/C++ 编译器

### UNIX/Linux 上的安装

如果您使用的是 **Linux 或 UNIX**，请在命令行使用下面的命令来检查您的系统上是否安装了 GCC：

```shell
$ g++ -v
```

如果您的计算机上已经安装了 GNU 编译器，则会显示如下消息：

```shell
Using built-in specs.Target: i386-redhat-linuxConfigured with: ../configure --prefix=/usr .......Thread model: posix
gcc version 4.1.2 20080704 (Red Hat 4.1.2-46)
```

如果未安装 GCC，那么请按照 http://gcc.gnu.org/install/ 上的详细说明安装 GCC。

### Mac OS X 上的安装

如果您使用的是 Mac OS X，最快捷的获取 GCC 的方法是从苹果的网站上下载 Xcode 开发环境，并按照安装说明进行安装。一旦安装上 Xcode，您就能使用 GNU 编译器。

Xcode 目前可从 developer.apple.com/technologies/tools/ 上下载。

### Windows 上的安装

为了在 Windows 上安装 GCC，您需要安装 MinGW。为了安装 MinGW，请访问 MinGW 的主页 www.mingw.org，进入 MinGW 下载页面，下载最新版本的 MinGW 安装程序，命名格式为 MinGW-<version>.exe。

当安装 MinGW 时，您至少要安装 gcc-core、gcc-g++、binutils 和 MinGW runtime，但是一般情况下都会安装更多其他的项。

添加您安装的 MinGW 的 bin 子目录到您的 **PATH** 环境变量中，这样您就可以在命令行中通过简单的名称来指定这些工具。

当完成安装时，您可以从 Windows 命令行上运行 gcc、g++、ar、ranlib、dlltool 和其他一些 GNU 工具。

## g++ 应用说明

程序 g++ 是将 gcc 默认语言设为 C++ 的一个特殊的版本，链接时它自动使用 C++ 标准库而不用 C 标准库。通过遵循源码的命名规范并指定对应库的名字，用 gcc 来编译链接 C++ 程序是可行的，如下例所示：

```cpp
$ gcc main.cpp -lstdc++ -o main
```

最简单的编译方式：

```cpp
$ g++ helloworld.cpp
```

由于命令行中未指定可执行程序的文件名，编译器采用默认的 a.out。程序可以这样来运行：

```cpp
$ ./a.out
Hello, world!
```

通常我们使用 **-o** 选项指定可执行程序的文件名，以下实例生成一个 helloworld 的可执行文件：

```cpp
$ g++ helloworld.cpp -o helloworld
```

执行 helloworld:

```cpp
$ ./helloworld
Hello, world!
```

如果是多个 C++ 代码文件，如 runoob1.cpp、runoob2.cpp，编译命令如下：

```cpp
$ g++ runoob1.cpp cpp、runoob2.cpp -o runoob
```

生成一个 runoob 可执行文件。

g++ 有些系统默认是使用 C++98，我们可以指定使用 C++11 来编译 main.cpp 文件：

```cpp
$ g++ -g -Wall -std=c++11 main.cpp
```

### g++ 常用命令选项

| 选项 | 解释 |
| : ----------- | : ----------------------------------------------------------- |
| -ansi | 只支持 ANSI 标准的 C 语法。这一选项将禁止 GNU C 的某些特色，例如 asm 或 typeof 关键词。|
| -c | 只编译并生成目标文件。|
| -DMACRO | 以字符串 "1" 定义 MACRO 宏。|
| -DMACRO = DEFN | 以字符串 "DEFN" 定义 MACRO 宏。|
| -E | 只运行 C 预编译器。|
| -g | 生成调试信息。GNU 调试器可利用该信息。|
| -IDIRECTORY | 指定额外的头文件搜索路径 DIRECTORY。|
| -LDIRECTORY | 指定额外的函数库搜索路径 DIRECTORY。|
| -lLIBRARY | 连接时搜索指定的函数库 LIBRARY。|
| -m486 | 针对 486 进行代码优化。|
| -o | FILE 生成指定的输出文件。用在生成可执行文件时。|
| -O0 | 不进行优化处理。|
| -O | 或 -O1 优化生成代码。|
| -O2 | 进一步优化。|
| -O3 | 比 -O2 更进一步优化，包括 inline 函数。|
| -shared | 生成共享目标文件。通常用在建立共享库时。|
| -static | 禁止使用共享连接。|
| -UMACRO | 取消对 MACRO 宏的定义。|
| -w | 不生成任何警告信息。|
| -Wall | 生成所有警告信息。|

## C++ 基本语法

C++ 程序可以定义为对象的集合，这些对象通过调用彼此的方法进行交互。现在让我们简要地看一下什么是类、对象，方法、即时变量。

- **对象 -** 对象具有状态和行为。例如：一只狗的状态 - 颜色、名称、品种，行为 - 摇动、叫唤、吃。对象是类的实例。
- **类 -** 类可以定义为描述对象行为/状态的模板/蓝图。
- **方法 -** 从基本上说，一个方法表示一种行为。一个类可以包含多个方法。可以在方法中写入逻辑、操作数据以及执行所有的动作。
- **即时变量 -** 每个对象都有其独特的即时变量。对象的状态是由这些即时变量的值创建的。

##  第一个C++程序

编写一个C++程序总共分为4个步骤

* 创建项目
* 创建文件
* 编写代码
* 运行程序

### 创建项目

Visual Studio 是我们用来编写 C++ 程序的主要工具，我们先将它打开

### 创建文件

右键源文件，选择添加 -> 新建项，给 C++ 文件起个名称，然后点击添加即可。

### 编写代码

```c++
#include<iostream>
using namespace std;

int main() {

	cout << "Hello world" << endl;

	system("pause");

	return 0;
}
```

接下来我们讲解一下上面这段程序：

- C++ 语言定义了一些头文件，这些头文件包含了程序中必需的或有用的信息。上面这段程序中，包含了头文件 **<iostream>**。
- 行 **using namespace std;** 告诉编译器使用 std 命名空间。命名空间是 C++ 中一个相对新的概念。
- 下一行 **// main() 是程序开始执行的地方** 是一个单行注释。单行注释以 // 开头，在行末结束。
- 下一行 **int main()** 是主函数，程序从这里开始执行。
- 下一行 **cout << "Hello World";** 会在屏幕上显示消息 "Hello World"。
- 下一行 **return 0;** 终止 main( )函数，并向调用进程返回值 0。

### 运行程序

接下来让我们看看如何把源代码保存在一个文件中，以及如何编译并运行它。下面是简单的步骤：

- 打开一个文本编辑器，添加上述代码。
- 保存文件为 hello.cpp。
- 打开命令提示符，进入到保存文件所在的目录。
- 键入 'g++ hello.cpp '，输入回车，编译代码。如果代码中没有错误，命令提示符会跳到下一行，并生成 a.out 可执行文件。
- 现在，键入 ' a.out' 来运行程序。
- 您可以看到屏幕上显示 ' Hello World '。

```cpp
$ g++ hello.cpp
$ ./a.out
Hello World
```
## C++ 中的分号 & 块

在 C++ 中，分号是语句结束符。也就是说，每个语句必须以分号结束。它表明一个逻辑实体的结束。

例如，下面是三个不同的语句：

```cpp
x = y;y = y+1;add(x, y);
```

块是一组使用大括号括起来的按逻辑连接的语句。例如：

```cpp
{   cout << "Hello World"; // 输出 Hello World   return 0;}
```

C++ 不以行末作为结束符的标识，因此，您可以在一行上放置多个语句。例如：

```cpp
x = y;y = y+1;add(x, y);
```

等同于

```cpp
x = y; y = y+1; add(x, y);
```

## 注释

**作用**：在代码中加一些说明和解释，方便自己或其他程序员程序员阅读代码

**两种格式**

1. **单行注释**：`// 描述信息` 
   - 通常放在一行代码的上方，或者一条语句的末尾，==对该行代码说明==
2. **多行注释**： `/* 描述信息 */`
   - 通常放在一段代码的上方，==对该段代码做整体说明==

> 提示：编译器在编译代码时，会忽略注释的内容

## 变量

**作用**：给一段指定的内存空间起名，方便操作这段内存（本质）

**语法**：`数据类型 变量名 = 初始值;`

**示例：**

```C++
#include<iostream>
using namespace std;

int main() {
	//变量的定义
	//语法：数据类型  变量名 = 初始值

	int a = 10;

	cout << "a = " << a << endl;
	
	system("pause");

	return 0;
}
```

> 注意：C++在创建变量时，必须给变量一个初始值，否则会报错

##  常量

**作用**：用于记录程序中不可更改的数据

C++定义常量两种方式

1. **\#define** 宏常量： `#define 常量名 常量值`
   * ==通常在文件上方定义==，表示一个常量

2. **const**修饰的变量 `const 数据类型 常量名 = 常量值`
   * ==通常在变量定义前加关键字const==，修饰该变量为常量，不可修改

**示例：**

```C++
//1、宏常量
#define day 7

int main() {

	cout << "一周里总共有 " << day << " 天" << endl;
	//day = 8;  //报错，宏常量不可以修改

	//2、const修饰变量
	const int month = 12;
	cout << "一年里总共有 " << month << " 个月份" << endl;
	//month = 24; //报错，常量是不可以修改的
	
	
	system("pause");

	return 0;
}
```

## 关键字

**作用：**关键字是C++中预先保留的单词（标识符）

* **在定义变量或者常量时候，不要用关键字**

C++关键字如下：

| asm | do | if | return | typedef |
| ----- | ----- | ----- | ----- | ----- |
| auto | double | inline | short | typeid |
| bool | dynamic_cast | int | signed | typename |
| break | else | long | sizeof | union |
| case | enum | mutable | static | unsigned |
| catch | explicit | namespace | static_cast | using |
| char | export | new | struct | virtual |
| class | extern | operator | switch | void |
| const | false | private | template | volatile |
| const_cast | float | protected | this | wchar_t |
| continue | for | public | throw | while |
| default | friend | register | true | |
| delete | goto | reinterpret_cast | try | |

`提示：在给变量或者常量起名称时候，不要用C++得关键字，否则会产生歧义。`

## 标识符命名规则

**作用**：C++规定给标识符（变量、常量）命名时，有一套自己的规则

* 标识符不能是关键字
* 标识符只能由字母、数字、下划线组成
* 第一个字符必须为字母或下划线
* 标识符中字母区分大小写

## 三字符组

三字符组就是用于表示另一个字符的三个字符序列，又称为三字符序列。三字符序列总是以两个问号开头。

三字符序列不太常见，但 C++ 标准允许把某些字符指定为三字符序列。以前为了表示键盘上没有的字符，这是必不可少的一种方法。

三字符序列可以出现在任何地方，包括字符串、字符序列、注释和预处理指令。

下面列出了最常用的三字符序列：

| 三字符组 | 替换 |
| : ------- | : --- |
| ??= | #|
| ?? / | \ |
| ?? ' | ^ |
| ?? ( | [ |
| ?? ) | ] |
| ??! | \| |
| ?? < | { |
| ?? > | } |
| ?? - | ~ |

如果希望在源程序中有两个连续的问号，且不希望被预处理器替换，这种情况出现在字符常量、字符串字面值或者是程序注释中，可选办法是用字符串的自动连接："...?""?..."或者转义序列："...?\?..."。

从Microsoft Visual C++ 2010版开始，该编译器默认不再自动替换三字符组。如果需要使用三字符组替换（如为了兼容古老的软件代码），需要设置编译器命令行选项/Zc:trigraphs

g++仍默认支持三字符组，但会给出编译警告。

## C++ 中的空格

只包含空格的行，被称为空白行，可能带有注释，C++ 编译器会完全忽略它。

在 C++ 中，空格用于描述空白符、制表符、换行符和注释。空格分隔语句的各个部分，让编译器能识别语句中的某个元素（比如 int）在哪里结束，下一个元素在哪里开始。因此，在下面的语句中：

```cpp
int age;
```

在这里，int 和 age 之间必须至少有一个空格字符（通常是一个空白符），这样编译器才能够区分它们。另一方面，在下面的语句中：

```cpp
fruit = apples + oranges;   // 获取水果的总数
```

fruit 和 =，或者 = 和 apples 之间的空格字符不是必需的，但是为了增强可读性，您可以根据需要适当增加一些空格。
